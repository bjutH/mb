<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>随工单sec2</title>
    <script src="js/jquery-3.2.1.min.js" type="text/javascript"></script>
    <script src="js/sgdmsec.js"></script>
    <link rel="stylesheet" href="css/css-sgdm/reset.css"> <!-- CSS reset -->
    <link rel="stylesheet" type="text/css" href="css/css-sgdm/sgdmsec.css">
    <link rel="stylesheet" href="css/css-sgdm/style.css"> <!-- Resource style -->
    <link rel="stylesheet" type="text/css" href="css/css-sgdm/mycss.css">
    <link rel="stylesheet" type="text/css" href="css/css-search/normalize.css"/>
    <link rel="stylesheet" type="text/css" href="css/css-search/search-form.css">

    <!--div点击出现/消失-->
    <script type="javascript">
        script
        type = "text/javascript" >
            $(function () {
                $('#addt').click(function (event) {
                    //取消事件冒泡
                    event.stopPropagation();
                    //设置弹出层的位置
                    var offset = $(event.target).offset();
                    $('#divTop').css({top: offset.top + $(event.target).height() + "px", left: offset.left});
                    //按钮的toggle,如果div是可见的,点击按钮切换为隐藏的;如果是隐藏的,切换为可见的。
                    $('#divTop').toggle('slow');
                });
                //点击空白处或者自身隐藏弹出层，下面分别为滑动和淡出效果。
                $(document).click(function (event) {
                    $('#divTop').slideUp('slow')
                });
                $('#divTop').click(function (event) {
                    //$(this).fadeOut(1000)
                    event.stopPropagation();
                });
            })
    </script>

    <!--添加属性-->
    <script
    type = "javascript" >
        function turnconten() {
            document.getElementsByTagName('table')[0].setAttribute("conteneditable", "ture");
            alert("当前文件可修改");
        }
    </script>
    <!--打开/关闭编辑-->
    <script>
        function startEdit() {
            var editor = document.getElementById("pageEditor");
            Element.contenteditable = "ture"
            editor.contentWindow.document.designMode = "on";
        }

        function stopEdit() {
            var editor = document.getElementById("pageEditor");
            editor.contentWindow.document.designMode = "off";
            var editedHTML = document.getElementById("editedHTML");
            editedHTML.innerHTML = "<html>" + editor.contentWindow.document.head.innerHTML + editor.contentWindow.document.body.innerHTML + "</html>";
            // document.getElementById("editedHTML").innerHTML(editedHTML.textContent);
        }
    </script>
    <!--获取iframe中的内容-->
    <script>
    function getIframeContent(frameId){
    var frameObj = document.getElementById(frameId);
    var frameContent = frameObj.contentWindow.document.body.innerHTML;
    var fso = new ActiveXObject("Scripting.FileSystemObject");
    var file = fso.createTextFile("/Applications/ab/tempe2h.html", true);
    //   file.write(frameContent);
    // file.close();
    alert("frame content : "+frameContent);
    //	return frameContent;
    }
    </script>
    <!--搜索-->
    <script type="text/javascript">
        function searchToggle(obj, evt) {
            var container = $(obj).closest('.search-wrapper');

            if (!container.hasClass('active')) {
                container.addClass('active');
                evt.preventDefault();
            }
            else if (container.hasClass('active') && $(obj).closest('.input-holder').length == 0) {
                container.removeClass('active');
                // clear input
                container.find('.search-input').val('');
                // clear and hide result container when we press close
                container.find('.result-container').fadeOut(100, function () {
                    $(this).empty();
                });
            }
        }

        function submitFn(obj, evt) {
            value = $(obj).find('.search-input').val().trim();

            _html = "Yup yup! Your search text sounds like this: ";
            if (!value.length) {
                _html = "Yup yup! Add some text friend :D";
            }
            else {
                _html += "<b>" + value + "</b>";
            }

            $(obj).find('.result-container').html('<span>' + _html + '</span>');
            $(obj).find('.result-container').fadeIn(100);

            evt.preventDefault();
        }
    </script>
    <!--搜索-->

</head>
<body>
<header class="cd-auto-hide-header">
    <div class="logo"><a href="#0"><img src="img/cd-logosgdmsec.svg" alt="Logo"></a></div>

    <nav class="cd-primary-nav">
        <a href="#cd-navigation" class="nav-trigger">
				<span>
					<em aria-hidden="true"></em>
					Menu
				</span>
        </a> <!-- .nav-trigger -->

        <ul id="cd-navigation">
            <li><a href="#0">主页</a></li>
            <li><a href="#0">随工单管理</a></li>
            <li><a href="#0">人员管理</a></li>
            <li><a href="#0">录音管理</a></li>
            <li><a href="#0">系统管理</a></li>
        </ul>
    </nav> <!-- .cd-primary-nav -->
</header> <!-- .cd-auto-hide-header -->

<section class="cd-hero">
    <div class="cd-hero-content">
        <!-- your content here -->
    </div>
</section> <!-- .cd-hero -->

<nav class="cd-secondary-nav">
    <!--搜索-->
    <div class="searchdiv" style="float: right">
        <section class="htmleaf-container">
            <form onsubmit="submitFn(this, event);">
                <div class="search-wrapper">
                    <div class="input-holder">
                        <input type="text" class="search-input" placeholder="Type to search"/>
                        <button class="search-icon" onclick="searchToggle(this, event);"><span></span></button>
                    </div>
                    <span class="close" onclick="searchToggle(this, event);"></span>
                    <div class="result-container">
                    </div>
                </div>
            </form>
        </section>
    </div>
    <!--搜索-->
    <div>
        <ul>
            <li style="float: left"><a href="#0">修改</a></li>
            <li style="float: left"><a href="#0" id="savet">保存</a></li>
            <li style="float: left"><a href="#0" id="addt">添加表</a></li>
            <li style="float: left"><a href="#0" id="delet">删除表</a></li>
        </ul>
    </div>
</nav> <!-- .cd-secondary-nav -->
<!--伸缩的块，修改/删除/增加-->
<div id="divTop" style="width: 380px;
    float: left;
    height: 30px;
    background-color: #494A5F;
    overflow: hidden;
    border-bottom-right-radius:10px;
    display: none;">
    <div style="text-align:center;">
        <form action="addtable" enctype="multipart/form-data">
            <!--选择上传文件-->
            <input name="tableaddr" type="file"/>
            <input type="submit" value="上传文件"/>
        </form>
    </div>
</div>
<div style="width: auto;height: 200px;background-color: #8F3985">
    llllllll
</div>
<main >
    <!--随工单管理显示-->
    <div>
        <header class="htmleaf-header">
            <div style="display: inline"><h1>随工单管理模块 <span>A Auto-Hiding Navigation Design</span></h1></div>
            <div class="htmleaf-demo center">
                <a href="#">nav-subnav</a>
                <a href="sgdmsec3.html" class="current">nav-hero-subnav</a>
            </div>
        </header>

        <!--<button onclick="getIframeContent('pageEditor')">aaaa</button>-->
        <div align="center">
            <iframe id="pageEditor" src="files/tempe2h.html" width=100% height=100% scrolling="yes"
                    frameborder="0"></iframe>
        </div>
        <pre>
			<h1 align="center">这个位置显示修改后的表格</h1>
			<div id="editedHTML" align="center">here</div>
			</pre>
    </div>
</main> <!-- .cd-main-content -->
</body>
</html>

